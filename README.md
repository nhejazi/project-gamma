## UC Berkeley's Statistics 159/259
### Project Group Gamma, Fall Term 2015 

_**Group members:**_ Nima Hejazi, Feng Lin, Luyun Zhao, & Xinyue Zhou

_**Topic:**_ [Working Memory in Healthy and Schizophrenic Individuals](https://openfmri.org/dataset/ds000115)

[![Build Status](https://travis-ci.org/berkeley-stat159/project-gamma.svg?branch=master)](https://travis-ci.org/berkeley-stat159/project-gamma?branch=master)
[![Coverage Status](https://coveralls.io/repos/berkeley-stat159/project-gamma/badge.svg?branch=master)](https://coveralls.io/r/berkeley-stat159/project-gamma?branch=master)

### Directions/Roadmap
#### Recommended Steps
1. __make requirements__ - pip install all packages listed in requirements.txt and ggplot==0.6.8
2. __make test__ - runs all of the tests for scripts used in this analytic project
3. __make coverage__ - runs coverage tests and generates the Travis coverage report
4. __make data__ - downloads all data for analysis (__around 2 hours on a 25MBps internet due to size__)
5. __make validate__ - validate checksums of the data to ensure integrity
6. __make analysis__ - generates results and figures referenced in the report
7. __make paper__ - compiles the (final) full paper describing our findings

#### Alternative Steps
_**Please read the section Data (below) if you plan to use these (alternative) steps**_

1. __make requirements__ - pip install all packages listed in requirements.txt and ggplot==0.6.8
2. __make test__ - runs all of the tests for scripts used in this analytic project
3. __make coverage__ - runs coverage tests and generates the Travis coverage report
4. __make conditionfiles__ - downloads the condition files necessary for analysis (__takes up to 8 hours__)
5. __make data__ - downloads the rest of the data for analysis (__around 2 hours on a 25MBps internet due to size__)
6. __make validate__ - validate checksums of the data to ensure integrity
7. __make analysis__ - generates results and figures referenced in the report
8. __make paper__ - compiles the (final) full report describing our findings

#### Backups and Issues

If there are errors in the process of reproducing the paper, a copy of the final version of the paper (report_backup.pdf) was generated by us and is stored in the paper/ directory. You are welcome to report any issues and suggestions on our GitHub repository so that we may further improve this work!

### requirements
Requirements are specified in .travis.yml and requirements.txt. On top of that, ggplot==0.6.8 is required but is not supported
by travis for now. Hence, it is installed by a separate pip install command in 'make requirements'

### Codebase 

Utility (utils) methods may be found in the subdirectory code/utils. Analysis scripts are in the code/ directory. 

### Tests and Coverage

__'make test'__ runs all the tests for this project repository. Methods were extracted into individual modules inside the utils/ subdirectory under code/. Plotting helper functions remain inside the analysis scripts and are _not tested_.

__'make coverage'__ runs the coverage tests and generates the coverage report.

### Data

__'make data'__ downloads all the data except for the condition files. Running this takes around 2 hours on average. 

Directory data/ is initially empty, except for 'net_roi.txt', which is from the supplemental material of the reference paper and may be found [at this link](http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3081915/bin/NIHMS253634-supplement-01.pdf). We manually extracted the information from Table S1 and make it available here as 'net_roi.txt'.

__'make conditionfiles'__ downloads all of the necessary condition files for the analysis.

The reason that downloading the condition files has been made into a separate command is due to the fact that the condition files are bundled together with the fMRI raw data on the [OpenFMRI site](https://www.openfmri.org/dataset/ds000115/). Due to this, it would take several hours to download these files. Since we only need the condition files and not the rest of the data in the bundle, we have created the separate command to hasten the download process. Also, to improve accessibility, we made the decision to include the condition files (in TXT format) in the data/ directory in the repository. For reproducibility, you can run this command to obtain the same condition files used in the analysis reported.

### Analysis

__'make analysis'__ runs all the analysis scripts and fills up the results/ directory with diagrams and graphs, which are referenced in the full report.

### Paper

__'make paper'__ produces the full report describing this research project.


### Contributers

Nima Hejazi: [nhejazi](https://github.com/nhejazi)

Feng Lin: [LiamFengLin](https://github.com/LiamFengLin)

Luyun Zhao: [lynnzhao](https://github.com/lynnzhao)

Xinyue Zhou: [z357412526](https://github.com/z357412526)

Very special thanks to [Jarrod Millman](https://github.com/jarrodmillman), [Matthew Brett](https://github.com/matthew-brett), [Ross Barnowski](https://github.com/rossbar), and [J-B Poline](https://github.com/jbpoline), for your teaching and your invaluable advice over the course of the semester â€” this project would not have been possible without your help!

